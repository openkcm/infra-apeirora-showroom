apiVersion: v1
kind: Config
current-context: worker01
clusters:
  - cluster:
      certificate-authority-data: cxxxxxxx=
      server: https://xxxxxxx
    name: worker01
contexts:
  - context:
      cluster: worker01
      namespace: default
      user: default
    name: worker01
users:
  - name: default
    user:
      exec:
        apiVersion: client.authentication.k8s.io/v1
        interactiveMode: Never
        command: sh
        args:
          - -c
          - |
            cat << EOF
            {
              "apiVersion": "client.authentication.k8s.io/v1",
              "kind": "ExecCredential",
              "status": {
                "token": "$(cat /var/run/secrets/tokens/federated-token)"
              }
            }
            EOF
